<div
  class="w-full rounded-lg border border-green-200 bg-white shadow shadow-green-50 duration-200 hover:-translate-y-1 hover:shadow-md hover:shadow-green-300 dark:border-green-700 dark:bg-green-800"
>
  <!-- Card Image -->
  <a [routerLink]="['/details', product.id]">
    <div class="relative">
      @if (product.stock > 0) {
        <span
          class="absolute left-6 top-6 me-2 rounded bg-green-100 px-2.5 py-0.5 text-xs font-medium text-green-800 dark:bg-green-900 dark:text-green-300"
          >In stock</span
        >
      } @else {
        <span
          class="absolute left-6 top-6 me-2 rounded bg-red-100 px-2.5 py-0.5 text-xs font-medium text-red-800 dark:bg-red-900 dark:text-red-300"
          >Out of stock</span
        >
      }
    </div>
    <div class="flex w-full justify-center">
      <img
        class="w-full rounded-3xl p-4"
        [src]="product.thumbnail"
        alt="product image"
      />
    </div>
  </a>
  <!-- Card Body -->
  <div class="px-5 pb-5">
    <!-- Title -->
    <a [routerLink]="['/details', product.id]">
      <h5
        class="line-clamp-1 text-xl font-semibold tracking-tight text-green-900 dark:text-white"
      >
        {{ product.title }}
      </h5>
    </a>
    <p class="my-3 line-clamp-2 text-gray-500">{{ product.description }}</p>
    <!-- Rating -->
    <div class="my-2.5 flex items-center">
      <div class="flex items-center space-x-1 rtl:space-x-reverse">
        <app-star-rating
          [rating]="product.rating"
          [totalStars]="5"
        ></app-star-rating>
      </div>
      <span
        class="ms-3 rounded bg-green-100 px-2.5 py-0.5 text-xs font-semibold text-green-800 dark:bg-green-200 dark:text-green-800"
        >{{ product.rating }}</span
      >
    </div>
    <!-- Price & CTA -->
    <div class="flex items-center justify-between">
      <span
        class="text-2xl font-bold text-green-950 dark:text-white md:text-3xl"
        >{{ product.price | currency: "USD" : "symbol" : "1.2-2" }}</span
      >

      <button
        (click)="onAddingToCart()"
        type="button"
        [disabled]="isAdded"
        [ngClass]="
          isAdded
            ? 'bg-green-600 text-green-50'
            : 'border-green-700 text-green-700 hover:bg-green-800 hover:text-white focus:ring-green-300'
        "
        class="rounded-lg border px-5 py-2.5 text-center text-sm font-medium duration-200 focus:outline-none focus:ring-4"
      >
        {{ isAdded ? "Added to cart!" : "Add to cart" }}
      </button>
    </div>
  </div>
</div>
